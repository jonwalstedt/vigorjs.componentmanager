var App,bind=function(t,e){return function(){return t.apply(e,arguments)}};App=function(){t.prototype.VIEWPORT_CUTOF=200;t.prototype.ACTIVE_LINK_CLASS="link--active";t.prototype._isMenuOpen=false;function t(){this._onMenuToggleClick=bind(this._onMenuToggleClick,this);this._closeMenu=bind(this._closeMenu,this);this._openMenu=bind(this._openMenu,this);this._onLinkClick=bind(this._onLinkClick,this);this._scrollToTarget=bind(this._scrollToTarget,this);this._setActiveSectionFromScrollPosition=bind(this._setActiveSectionFromScrollPosition,this);this._updateActiveLinks=bind(this._updateActiveLinks,this);this.$window=$(window);this.$body=$("html, body");this.$links=$("a");this.$contentWrapper=$(".content-wrapper");this.$sidebarWrapper=$(".sidebar-wrapper");this.$menuToggle=$(".menu-toggle");this.$sidebar=$(".sidebar");this.$sectionHeaders=$(".sub-section > h3 > a");this.origTop=0;this._debouncedSetActiveSectionFromScrollPosition=_.debounce(this._setActiveSectionFromScrollPosition,100);if(this.$sidebar.length){this.origTop=this.$sidebar.offset().top}setTimeout(function(t){return function(){var e,i,n;i=(n=window.location.hash)!=null?n.substring(1):void 0;e=$("[name='"+i+"']");if(e.length){return t._scrollToTarget(e)}}}(this),1e3);this._updateActiveLinks();this.$window.on("hashchange",this._updateActiveLinks);this.$window.on("scroll",this._debouncedSetActiveSectionFromScrollPosition);this.$window.trigger("scroll");this.$menuToggle.on("click",this._onMenuToggleClick);$(".sidebar a, .docs .content a").on("click",this._onLinkClick);hljs.initHighlightingOnLoad()}t.prototype._updateActiveLinks=function(){var t,e,i;e=window.location.hash;i=window.location.pathname;t=$("[href='"+e+"'], [href='"+i+"']");this.$links.removeClass(this.ACTIVE_LINK_CLASS);t.addClass(this.ACTIVE_LINK_CLASS);return this._closeMenu()};t.prototype._setActiveSectionFromScrollPosition=function(){var t,e,i,n,o,s,r;s=this.$sectionHeaders;r=[];for(n=0,o=s.length;n<o;n++){e=s[n];t=$(e);if(this._isElementInTopOfViewport(e)){i=t.attr("name");t.removeAttr("name");window.location.hash=i;r.push(t.attr("name",i))}else{r.push(void 0)}}return r};t.prototype._isElementInTopOfViewport=function(t){var e;if(typeof jQuery==="function"&&t instanceof jQuery){t=t[0]}e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=this.VIEWPORT_CUTOF&&e.right<=$(window).width()};t.prototype._scrollToTarget=function(t){return this.$body.stop().animate({scrollTop:t.offset().top},1e3)};t.prototype._onLinkClick=function(t){var e,i,n,o;e=$(t.currentTarget);n=e.attr("href").split("/").pop();if(n.indexOf("#")>-1){o=n.substring(1);i=$("[name='"+o+"']");if(i.length){this._scrollToTarget(i)}return t.preventDefault()}};t.prototype._openMenu=function(){this.$menuToggle.addClass("menu-toggle--active");this.$contentWrapper.addClass("sidebar--visible");this.$menuToggle.find(".menu-icon").addClass("close");return this._isMenuOpen=true};t.prototype._closeMenu=function(){this.$menuToggle.removeClass("menu-toggle--active");this.$contentWrapper.removeClass("sidebar--visible");this.$menuToggle.find(".menu-icon").removeClass("close");return this._isMenuOpen=false};t.prototype._onMenuToggleClick=function(){if(this._isMenuOpen){return this._closeMenu()}else{return this._openMenu()}};return t}();window.app=new App;